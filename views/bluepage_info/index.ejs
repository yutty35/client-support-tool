<!DOCTYPE html>
<html style="height: 100%;">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Language" content="EN" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Serach Bluepage Info</title>
		<link rel="stylesheet" href="/w3ds/w3ds.css" type="text/css">

		<!-- if data tables are required -->
		<link rel="stylesheet" href="/w3ds/w3ds-data-tables.css" type="text/css">
	
		<!-- if code syntax highlighting is required -->
		<link rel="stylesheet" href="/w3ds/w3ds-prism.css" rel="text/css" />

		<!-- JQuery from Google site -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	</head>
	<body class="ds-has-sticky-footer">
		<div class="ds-grid">
			<div class="ds-row">
				<div class="ds-col-12">
					<div class="ds-row ds-pad-t-3">
						<div class="ds-col-xs-10 ds-offset-xs-1 ds-pad-b-3">
							<!-- img src="../images/w3ds-logo.svg" class="ds-pad-b-1" alt="w3DS" -->
							<h1 class="ds-heading-md-2 ds-heading-lg-1">Serach Bluepage Info</h1>
							<p class="ds-mar-0">
<!--- w3ds template --->


<script nonce=<%- nonce %>>
	window.addEventListener("load", () => {
		document.getElementById("return_to_home").addEventListener("click", (e) => {
			redirectTo("/");
		});

		document.getElementById("searching").style.display = "none";

		document.getElementById("search_button_email").addEventListener("click", (e) => {
			console.log("***");
			document.getElementById("before_search").style.display = "none";
			document.getElementById("searching").style.display = "block";
		});
	});
	
	const redirectTo = (url) => {
		location.href = url;
	}

	const fetch_url = async(url) => {
		$("#result").append(url);
		fetch(url)
			.then((response) => response.json())
			.then((data) => {
				if (data[0].status != "Error") {		
					$("#result").append(i + " " + data[0].CNUM + "<br>")
//					appendData(data[0]);
				} else {
					errorMessage(data[0]);
				}
			});
	}
</script>

<!--
	Return to Home
-->
<style>
.homeButton {
	width: 60px;
	position:fixed;
	z-index:1;
	top: 0%;
	right: 0px;
}
</style>
<div class="homeButton">
	<button class="ds-button _ds-flat _ds-basic _ds-bg-contextual-blue-3" id="return_to_home">
	<span class="ds-icon-home ds-icon-large ds-text-neutral-1" tabindex="0" role="text" aria-label="admin">
	</span>
	</button>
</div>

<h2>
<span class="ds-icon-menu" tabindex="0" role="text" aria-label="admin">
Get Bluepage info
</h2>

<span id="before_search">

<form>
<div class="ds-flex ds-flex-fill ds-flex-flex-start ds-flex-row ds-flex-nowrap">
	<div class="ds-mar-0 ds-pad-0 ds-col-4">
		<div class="ds-flex ds-flex-fill ds-flex-flex-start ds-flex-row ds-flex-nowrap">
			<div class="ds-mar-0 ds-pad-0 ds-col-12">
				<span class="ds-icon-group">
				Internet IDs
				</span>
				<br>
				<textarea rows="10" id="internet_ids" name="internet_ids" class="ds-input"></textarea>
			</div>
		</div>
		
		<div class="ds-button-group-h ds-row ds-mar-0 ds-pad-0 ds-col-12">
			<button id="search_button_email" class="ds-button ds-basic ds-mar-0 ds-pad-1" formmethod="post" formAction="./bluepage_info/search_bluepage/ids">
			<span class="ds-icon-search">
			Search</span></button>
		</div>
	</div>

	<div class="ds-mar-0 ds-pad-0 ds-col-4">
		<div class="ds-flex ds-flex-fill ds-flex-flex-start ds-flex-row ds-flex-nowrap">
			<div class="ds-mar-0 ds-pad-0 ds-col-12">
				<span class="ds-icon-group">
				CNUM (Emp No + PSC)
				</span>
				<br>
				<textarea rows="10" id="cnums" name="cnums" class="ds-input"></textarea>
			</div>
		</div>
		
		<div class="ds-button-group-h ds-row ds-mar-0 ds-pad-0 ds-col-12">
			<button id="search_button_cnum" class="ds-button ds-basic ds-mar-0 ds-pad-1" formmethod="post" formAction="./bluepage_info/search_bluepage/cnum">
			<span class="ds-icon-search">
			Search</span></button>
		</div>
	</div>
</div>


<div class="ds-button-group-h ds-row ds-mar-0 ds-mar-t-1 ds-pad-0 ds-col-8">
	<button class="ds-button ds-basic ds-mar-b-0" formmethod="get" formAction="/">
	<span class="ds-icon-arrow-left">
	Return</span></button>
</div>

</form>

</span>

<span id="searching">

<!-- LOADER -->
<div id="loader" class="ds-pad-t-5">
	<div class="ds-loader">
		<div class="ds-loader-container">
			<div class="ds-loader-container ds-text-align-center">
			<span class="ds-icon-sentiment-smile" tabindex="0"></span>
			Searching Blueopage Data
			</div>
		</div>
	</div>
</div>


</span>


<!--
<div class="ds-mar-t-1">
Reference
<ul>
<li>
<a href="https://w3.ibm.com/w3publisher/bluepages-ui-support/unified-profile-apis" target=_blank>
<span class="ds-icon-link"></span>
Unified Profile APIs</a>

<li>
<a href="https://w3.ibm.com/w3publisher/enterprise-directory-community/apis/bluepages-https-apis" target=_blank">
<span class="ds-icon-link"></span>
BluePages HTTP APIs</a>

<li>
<a href="https://w3.ibm.com/w3publisher/eapim/eapim-owned-apis/bluepages-managed-apis" target=_blank>
<span class="ds-icon-link"></span>
Managed BluePages API</a>
-->


</ul>
</div>

<!--- w3ds template --->
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<footer class="ds-sticky-footer ds-grid ds-bg-neutral-warm-2" style="width: 100%; height: 110px;" >
			<div class="ds-row">
				<h5 class="ds-offset-xs-1 ds-col-xs-10 ds-pad-t-2_5 ds-heading-5">
					<span class="ds-icon-github-l" style="vertical-align: middle;"></span>
					<a href="https://github.ibm.com/w3/w3DS" target="_blank" class="ds-text-neutral-6 ds-font-weight-light">w3DS on GitHub</a>
				</h5>
			</div>
		</footer>
		<script src="/w3ds/w3ds.js"></script>
	</body>
</html>